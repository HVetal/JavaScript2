<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Homework</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.0.0/animate.min.css">
  <style>
    .class_form {
      display: flex;
      flex-direction: column;
      width: 400px;
    }

    .message {
      width: 150px;
      padding: 20px;
      background: lightgoldenrodyellow;
      border: 1px solid orange;
      visibility: hidden;
    }

    .error {
      border: 0.3rem solid red;
    }

    .color_text_red {
      color: red;
    }

    .name_err {
      display: none;
    }

    .tel_err {
      display: none;
    }

    .mail_err {
      display: none;
    }

    .text_error {
        display: none;
    }

    .text {
        font-family: 'Courier New', Courier, monospace;
        font-size: 12px;
        width: 510px
    }
  </style>
</head>

<body>

  <form class="class_form">
    <label>
      Введите имя:
      <input class="form_name" type="text">
    </label>
    <div class="name name_err color_text_red">Имя должно содержать только буквы</div>
    <br>
    <br>
    <label>
      Телефон:
      <input class="form_tel" type="text" placeholder="+7(000)000-0000">

    </label>
    <div class="tel tel_err color_text_red">Вы ввели неправильный телефон</div>
    <br>
    <br>
    <label>
      E-mail:
      <input class="form_email" type="email" placeholder="mymail@mail.ru">

    </label>
    <div class="mail mail_err color_text_red">Вы ввели неправильный адрес электронной почты</div>
    <br>
    <br>
    <label>
      Текст:
      <input class="form_text" type="text">
    </label>
    <br>
    <br>
    <br>
    <button class="form_btn">Отправить</button>
  </form>

  <br>
  <br>
  <div class="text">This morning I get up at a half past six o'clock. It's still dark. I feel tired. I don't like mathematics at all, - 'I find it abstract', and there are too many rules. 'What's the sense of all these rules?' - To tell the truth I don't understand some of them. An average mark - 'will suffice me, I am not ambitious'. I would like to - 'discuss something else with her, but that moment she thought only of that'. She was worried and upset.</div>
  <br>
  <textarea name="text" id="text_value" cols="70"
    rows="7">This morning I get up at a half past six o'clock. It's still dark. I feel tired. I don't like mathematics at all, - 'I find it abstract', and there are too many rules. 'What's the sense of all these rules?' - To tell the truth I don't understand some of them. An average mark - 'will suffice me, I am not ambitious'. I would like to - 'discuss something else with her, but that moment she thought only of that'. She was worried and upset.</textarea>
  <br>
  <br>
  <button type='button' class='textBtn'>Редактировать</button>


  <script>
    "use strict";

    const inputName = document.querySelector('.form_name');
    const inputTel = document.querySelector('.form_tel');
    const inputEmail = document.querySelector('.form_email');
    const inputBtn = document.querySelector('.form_btn');
    const inputText = document.querySelector('#text_value');


    let tempText = inputText.value;
    const regexpText = /\s'|'\s|'\.|',/g;
    let regexp = '';
    document.querySelector('.textBtn').addEventListener('click', event => {
        tempText.match(regexpText).forEach(el => {
            if (el === " '") {
                regexp = /\s'/g;
                tempText = tempText.replace(regexp, ' "')
            } else if (el === "' ") {
                regexp = /'\s/g;
                tempText = tempText.replace(regexp, '" ')
            } else if (el === "'.") {
                regexp = /'\./g;
                tempText = tempText.replace(regexp, '".')
            } else if (el === "',") {
                regexp = /',/g;
                tempText = tempText.replace(regexp, '",')
            } 
        });
        inputText.value = tempText;
        event.target.textContent = 'Готово';
        event.target.disabled = true;
    });
    
    const regexpName = /[a-zA-Zа-яА-Я]/i;
    const regexpTel = /^\+7\(\d{3}\)\d{3}-\d{4}$/;
    const regexpEmail = /^([a-z0-9_\.-]+)@([a-z0-9_\.-]+)\.([a-z\.]{2,6})$/i;

    inputName.addEventListener('input', event => {
      inputName.classList.remove('error');
      document.querySelector('.name').classList.add('name_err');
    });

    inputTel.addEventListener('input', event => {
      inputTel.classList.remove('error');
      document.querySelector('.tel').classList.add('tel_err');
    });

    inputEmail.addEventListener('input', event => {
      inputEmail.classList.remove('error');
      document.querySelector('.mail').classList.add('mail_err');
    });

    inputBtn.addEventListener('click', () => {
      if (!(regexpName.test(inputName.value)) || (inputName.value === '')) {
        inputName.classList.add('error');
        document.querySelector('.name').classList.remove('name_err');
        event.preventDefault();
      }
      if (!(regexpTel.test(inputTel.value)) || (inputTel.value === '')) {
        inputTel.classList.add('error');
        document.querySelector('.tel').classList.remove('tel_err');
        event.preventDefault();
      } 
      if (!(regexpEmail.test(inputEmail.value)) || (inputEmail.value === '')) {
        inputEmail.classList.add('error');
        document.querySelector('.mail').classList.remove('mail_err');
        event.preventDefault();
      }  
    });

  </script>
</body>

</html>